//baseTools的配置参数
//路由后退的先决条件：此处只保证lcp_alert弹出框不存在则可以后退
var lcp_backPre = "if(document.getElementById('lcp_alert')){var str = document.getElementById('lcp_mttc').getAttribute('onclick');eval(str);return false;}";
var lcp_back=(function(){var k="ThisisLcpInsert";var e="lcp_hrefs";var v="lcp_hrefs_last";var t="file:///android_asset/demo.html";var l=window;var g=function(a){return a};var s=function(a){return l.localStorage.getItem(a)};var h=function(b,a){return l.localStorage.setItem(b,a)};var f=function(){var B=l.location.href.split("?");if(B.length==1||B[1]==""){return{}}var d=B[1].split("&");var c={};for(var b=0;b<d.length;b++){var a=d[b].split("=")[0];var C=d[b].split("=")[1];c[a]=decodeURI(C)}return c};l.lcp_backCloseX=function(){if(l["MyJS"] !== undefined){MyJS.close()}else{l.location.href="ios/exit/close:"}};var m=function(){var B=String(s(e));if(B.length==0){l.lcp_backCloseX();return false}var d=B.split(k);if(d.length>1){var C=d[d.length-2];return C}else{l.lcp_backCloseX();return false}};var j=function(D){var C=String(s(e)),B=C.split(k),F=B.length,H=D.split("?")[0];for(var E=0;E<F;E++){var G=B[E].split("?")[0];if(H==G){B.splice(E+1);h(e,B.join(k));h(v,B[E]);break}}};var q=function(b,c){for(i=b.length;i--;){if(b[i]==c){return i}}return -1};var o=function(C){if("getElementsByClassName" in document){return document.getElementsByClassName(C)}else{if("jQuery" in l){return jQuery("."+C)}else{var a=document.getElementsByTagName("*");var B=[];for(var b=0;b<a.length;b++){var d=a.item(b).className.split(" ");if(q(d,C)>-1){B[B.length]=a.item(b);break}}return B}}};var A=String(s(e));var z=String(s(v)),n=z.split("?")[0];var y=l.location.href,u=y.split("?")[0],p=g(y);if(A.length>0&&A!="null"){if(n==u){var x=A.split(k);x.splice(-1,1);x.push(p);h(e,x.join(k))}else{h(e,A+k+p)}}else{h(e,p)}h(v,p);var r=function(){var C="lcp_backPre" in l?l.lcp_backPre:"if(document.getElementById('lcp_alert')){var str = document.getElementById('lcp_mttc').getAttribute('onclick');eval(str);return false;}";var F="window.localStorage.setItem('lcp_hrefs','null');window.localStorage.setItem('lcp_hrefs_last','null');";var b="if('BaseJS' in window){"+F+"BaseJS.gotoUrl('file:///android_asset/demo.html')}else{lcp_back();}";var c=o("lcp_back"),D=C+"window['lcp_backCloseX']();",a="",B,d="BaseJS" in window;if(c.length==0){h(e,p)}else{if(c.length!=0){a=c[0].getAttribute("onclick");B=a==""||a==null?(C+b):(C+a);D=B;c[0].setAttribute("onclick","lcp_baseBack()")}}var E=document.createElement("script");E.type="text/javascript";E.innerHTML="function lcp_baseBack(){"+D+"}";document.getElementsByTagName("head").item(0).appendChild(E);if(d&&(a==""||a==null)){h(e,g(l.location.href))}};l.addEventListener("DOMContentLoaded",r,false);var w=function(a,b,B){if(a===undefined||a==""){a=m()}if(a===false){return false}var D={},E=a,C="";if(b===undefined||b==""){b="goback"}if(b=="goback"){j(a)}l.location.href=E};return w})();
//基本配置参数
var baseOption = {
    jsFileName:"js/base.js",       //本文件文件名：包含父文件夹
    lcpBackFlag:"",                //路由控制参数，如果包含源生静态页则输入项目中文缩写，否则为空
    isDownCreate:false             //页面元素load后是否直接启用ios版按触效果
};
var baseTools=(function(){var A="baseOption" in window?window.baseOption:{};var B="lcp_",C="jsFileName" in A?A.jsFileName:"js/base.js";var D=document,E=window,F=E.parent.window,EE=E.top.window,G=E.localStorage,BA="MyJS",BB="BaseJS",BC="img_error";var BD="img_error2",BE="lcp_stop",BF="lcp_inArr",BG="lcp_inArrNum",BH="lcp_addClass",BI="lcp_removeClass",BJ="lcp_toggleClass";var BK="imgRunner",BL="imgRunLoading",BM="lcp_downCreate",BN="X_run",BO="listLoadingMore",BP="lcp_alert",BQ="lcp_ok";var BR="lcp_back_flag",BS="lcp_go",BU="backIndex",BV="isDomLoad",BW="lcp_setImg",BX="lcp_ewmDrapTo",BY="setMessage",BZ="getMessage";var CA="setToken",CB="getToken",CC="updateMessage";var open_tag="openMttc",close_tag="closeMttc";var CD="lcp_setAudio";var i,j;var H=(function(){return !(E===F)})();var I=function(a){return D.getElementById(a)};var J=function(a,b){b=b?b:D;return b.getElementsByTagName(a)};var K=function(a){if(D.documentElement.currentStyle){K=ZZ.getStyle=function(a){return a.currentStyle}}else{if(D.defaultView.getComputedStyle){K=ZZ.getStyle=function(a){return D.defaultView.getComputedStyle(a,null)}}}return K(a)};var L=function(a){return D.createElement(a)};var M=function(b,c){for(i=b.length;i--;){if(b[i]==c){return i}}return -1};var N=function(){var a=arguments,b=a.length,c=a[0],d,e,f;if(b==0){return{}}else{if(b==1){return c}else{e=a[b-1];f=typeof e=="boolean";if(f){b--}for(i=1;i<b;i++){d=a[i];for(j in d){if(j in c&&e===false){}else{if(d.hasOwnProperty(j)){c[j]=d[j]}}}}return c}}};var O=function(dom){this.dom=dom;var dd,list=[],arr=dom.className.split(" "),len=arr.length,j=0;for(i=0;i<len;i++){dd=arr[i];if(dd!=""){list.push(dd);this[j]=dd;j++}}this.list=list;this.length=j;this.item=function(cc){return this[cc]};this.contains=function(c){return M(this.list,c)>-1};this.add=function(c){if(c.search(" ")>-1){return false}if(this.contains(c)){return false}this[this.length]=c;this.list.push(c);this.length++;this.dom.className=this.list.join(" ")};this.remove=function(c){if(c.search(" ")>-1){return false}var index=M(this.list,c);if(index>-1){for(i=index;i<this.length-1;i++){this[i]=this[i+1]}delete this[i];this.list.splice(index,1);this.length--;this.dom.className=this.list.join(" ")}};this.toggle=function(c){if(this.contains(c)){this.remove(c)}else{this.add(c)}}};var P=function(a){if("classList" in a){P=ZZ.getClassList=function(a){return a.classList}}else{P=ZZ.getClassList=function(a){return new O(a)}}return P(a)};var Q=function(c,a){if("getElementsByClassName" in D){Q=ZZ.getClass=function(c,a){a=a?a:D;return a.getElementsByClassName(c)}}else{if("jQuery" in E){Q=ZZ.getClass=function(c,a){a=a?a:D;return jQuery("."+c,a).get()}}else{Q=ZZ.getClass=function(c,a){var p=a?a:D,x=J("*",p),y=[],z;for(i=0;i<x.length;i++){z=P(x.item(i));if(z.contains(c)){y.push(x.item(i))}}return y}}}return Q(c,a)};var R=function(a,b){var c=I(a);if(c){c.innerHTML=b}else{c=L("style");c.setAttribute("type","text/css");c.setAttribute("id",a);c.innerHTML=b;"head" in D?D.head.appendChild(c):J("head",D)[0].appendChild(c)}};var S=function(a,b){var c=I(a);if(c){c.innerHTML=b}else{c=L("script");c.id=a;c.type="text/javascript";c.innerHTML=b;"head" in D?D.head.appendChild(c):J("head",D)[0].appendChild(c)}};var T=function(a){return G.getItem(a)};var U=function(a,b){G.setItem(a,b)};var V=function(a){var b=function(){a();D.removeEventListener("DOMContentLoaded",b,false)};D.addEventListener("DOMContentLoaded",b,false)};var W=function(){if(E.XMLHttpRequest){W=function(){return new XMLHttpRequest()}}else{if(E.ActiveXObject){try{W=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(e){try{W=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(e){W=function(){return null}}}}else{W=function(){return null}}}return W()};var X=function(a){if(a.responseXML){return a.responseXML}var b=a.responseText,c;try{if("JSON" in E&&"parse" in JSON){c=JSON.parse(b)}else{c=eval("("+b+")")}}catch(e){c=b}return c};var Y="application/x-www-form-urlencoded; charset=UTF-8";var Z=function(a,b,c){var d=W();d.open("GET",a,true);d.setRequestHeader("Content-type",Y);d.onreadystatechange=function(){if(d.readyState==4){var s=parseFloat(d.status);if(d.status==200||d.status==0){if(b){b(X(d))}}else{if(s>400){if(c){c(d,d.status,d.statusText)}}}}};d.send(null);return d};var AA=(function(){var AA=function(opts){opts=opts instanceof Object?opts:{};return AA.fn.init(opts)};var o={type:"get",url:null,data:"",async:true,dataType:"json",beforeSend:function(){},success:function(){},complete:function(){},error:function(){}};var ab=0,ac;var ad=B+"ajax_jsonp_callback",ae=ad+"2";var af=function(){E[ad]=function(b){E[ae](b)};E[ae]=function(b){ac.removeChild(I(ad+"_"+(ab-1)));AA.fn.success(b)};var s=L("script"),str="callback="+ad,url=o.url,u=url.search(/\?/g)==-1?(url+"?"+str):(url+"&"+str);s.async=true;s.id=ad+"_"+ab++;s.type="text/javascript";s.src=u;ac=D.body?D.body:J("head",D)[0];ac.appendChild(s)};AA.fn={init:function(opts){o=N(o,opts);if(o.dataType=="jsonp"){af();return false}var a=W();a.open(o.type,o.url,o.async);AA.fn.setHead(a);a.onreadystatechange=function(){if(a.readyState==4){var s=parseFloat(a.status);if(a.status==200||a.status==0){AA.fn.success(X(a))}else{if(s>400){AA.fn.error(a,a.status,a.statusText)}}AA.fn.complete()}};o.beforeSend(a);a.send(null);return a},setHead:function(a){if(o.async===true){}if("contentType" in o){a.setRequestHeader("Content-type",o.contentType);return false}if(String(o.type).search(/^post$/i)==0){a.setRequestHeader("Content-type",Y)}},success:function(a){if("success" in o){o.success(a)}},error:function(a,b,c){if("error" in o){o.error(a,b,c)}},complete:function(){if("complete" in o){o.complete()}}};return AA})();var AB="nfPeVUXFF4FUsex4gVfrIG5b";var AC=(function(){var ab,su,fa,ge=navigator.geolocation;function gp(){if(ge){ab=ge.watchPosition(sp,se,{enableHighAccuracy:true,maximumAge:2000})}else{fa("getCurrentPosition is not used!")}}function sp(a){var b=a.coords.latitude;var c=a.coords.longitude;if(b!="0"){ge.clearWatch(ab);pcc(c,b,a.timestamp)}}var pn=0;function pcc(lng,lat,mm){if(pn>=3){pn=0;fa("NETWORK CONNECTION ERROR");return false}pn++;var url="http://api.map.baidu.com/geoconv/v1/?coords="+lng+","+lat+"&output=json&ak="+AB;var ajaxObject={type:"post",url:url,contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"jsonp",success:function(dd){if(dd.status==0){var p=dd.result[0];if(su){su(p.x,p.y)}pn=0}else{pcc(lng,lat,mm)}},error:function(){pcc(lng,lat,mm)}};if("jQuery" in E){$.ajax(ajaxObject)}else{ajax(ajaxObject)}}var pnn=0;function se(a){pnn++;if(pnn>3){ge.clearWatch(ab)}if(fa){switch(a.code){case a.PERMISSION_DENIED:fa("PERMISSION_DENIED");break;case a.TIMEOUT:fa("TIMEOUT");break;default:break}}}return function(func,func2){if(func){su=func}if(func2){fa=func2}gp()}})();var AD=(function(){var er=6378.137,ee=Math.PI;function rr(d){return d*ee/180}return function(a,b,c,d){var aa=rr(a);var bb=rr(c);var a=aa-bb;var b=rr(b)-rr(d);var s=2*Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2)+Math.cos(aa)*Math.cos(bb)*Math.pow(Math.sin(b/2),2)));s=s*er;s=Math.round(s*10000)/10000;s=s*1000;s=s.toFixed(1);return s}})();var ZZ={};ZZ.win2=F;ZZ.getId=I;ZZ.getTag=J;ZZ.createDom=L;ZZ.in_array=M;ZZ.extend=N;ZZ.getClassList=P;ZZ.getClass=Q;ZZ.createStyle=R;ZZ.createScript=S;ZZ.getLoc=T;ZZ.setLoc=U;ZZ.domLoad=V;ZZ.easyAjax=Z;ZZ.ajax=AA;ZZ.getGPS=AC;ZZ.getDistance=AD;ZZ.isMobile=(function(){var u=E.navigator.userAgent.toLowerCase();return !!u.match(/(Android|iPad|iPod|iPhone|ios)/i)})();ZZ.isTwoWindow=H;ZZ.getH=function(){return D.documentElement.clientHeight};ZZ.w=D.documentElement.clientWidth;ZZ.h=ZZ.getH();ZZ.baseHref=(function(){var a=J("script"),b=a.length;for(i=b;i--;){var c=a[i].src,s=c.search(C);if(s>-1){return c.substring(0,s)}}return""})();ZZ.getStyle=K;ZZ.hrefOption=(function(){var a=E.location.href.split("?");if(a.length==1||a[1]==""){return{}}var b=a[1].split("&");var d={},c=b.length;for(var i=0;i<c;i++){var e=b[i].split("="),key=e[0],value=e[1];d[key]=decodeURI(value)}return d})();ZZ[open_tag]=function(a){if(H&&(open_tag in F)){F[open_tag](a)}};ZZ[close_tag]=function(){if(H&&(close_tag in F)){F[close_tag]()}};ZZ.json=(function(){var a=I("myScript"),b;if(!a){return}b=a.getAttribute("data-file");if(b===null||b===""){return}Z(b,function(c){ZZ.json=c;if("jsonReader" in E){E.jsonReader()}})})();ZZ.remsW=[[320,480],[320,480],[320,568],[480,639],[640,719],[720,749],[750,799],[800,959],[9600,1079],[1080]];ZZ.rems=[10,7,9,15,20,22,23,25,30,32];ZZ.rem=function(){var w=ZZ.w,h=ZZ.h,r=ZZ.rems,rw=ZZ.remsW;if((w>320&&w<480)||(w==320&&h>568)){return r[0]}else{if(w==320&&h<=480){return r[1]}else{if(w==320&&h<=568){return r[2]}else{var aa=rw.length-1;for(var i=3;i<aa;i++){if(w>=rw[i][0]&&w<=rw[i][1]){return r[i]}}if(w>=rw[i][0]){return r[i]}else{return r[0]}}}}};ZZ.setRem=function(s,w){var r=s?s:ZZ.rems,rw=w?w:ZZ.remsW;var a="@media screen and (width: 320px) and (max-height: 568px){html{font-size:"+r[1]+"px;}}@media screen and (width: 320px) and (max-height: 480px){html{font-size:"+r[2]+"px;}}",b=rw.length-1;for(var i=3;i<b;i++){a+="@media screen and (min-width:"+rw[i][0]+"px) and (max-width: "+rw[i][1]+"px){html{font-size:"+r[i]+"px;}}"}a+="@media screen and (min-width: "+rw[i][0]+"px){html{font-size:"+r[i]+"px;}}";R("styleSetRem",a)};E[BA]=BA in EE?EE[BA]:BA in E?E[BA]:undefined;E[BB]=BB in EE?EE[BB]:BB in E?E[BB]:undefined;E[BC]=function(x,b){x.src=b;x.removeAttribute("onerror")};E[BD]=function(x){x.parentNode.removeChild(x)};E[BE]=function(event){var e=event||E.event||arguments.callee.caller.arguments[0];e.stopPropagation();e.preventDefault()};E[BF]=M;E[BG]=function(a,e){var g=0;for(var f=a.length;f--;){if(a[f]==e){g++}}return g};E[BH]=function(a,c){P(a).add(c)};E[BI]=function(a,c){P(a).remove(c)};E[BJ]=function(a,c){P(a).toggle(c)};E[BK]=(function(){return function(opts){var p=I(opts.id),ccc=p.childNodes,l=ccc.length,www=ZZ.w;var bi,inn,title,page,index=0;var time="time" in opts?opts.time:3000,time2=time/10;for(i=0;i<l;i++){var c=ccc.item(i);if(c.nodeName=="DIV"){var cl=P(c);if(cl.contains("imgRunner-inner")){inn=c}else{if(cl.contains("imgRunner-title")){title=c}else{if(cl.contains("imgRunner-page")){page=c}}}index++}else{if(c.nodeName=="IMG"){bi=c}}}var img=J("img",inn),img_num=img.length;if(page){var pageStr="<ul>";for(i=0;i<img_num;i++){if(i==0){pageStr+="<li class='now'></li>"}else{pageStr+="<li></li>"}}page.innerHTML=pageStr+"</ul>";page.style.display="block"}if(title){var titP=title.getElementsByTagName("p"),titP_len=titP.length;for(var i=titP_len;i--;){if(i==0){titP[i].className="now"}else{titP[i].className=""}}}if("width" in opts&&"height" in opts){var w=www,h=Math.floor(opts.height*w/opts.width);if(bi){bi.width=w;bi.height=h}for(i=img_num;i--;){img.item(i).width=w;img.item(i).height=h}}var img_current=0,img_run_time,ww=www;var img_tab=function(){if(title){var t=J("p",title),l=t.length;for(i=l;i--;){P(t.item(i)).remove("now")}P(t.item(img_current)).add("now")}if(page){var ppp=page.getElementsByTagName("li"),ll=ppp.length;for(var i=ll;i--;){P(ppp.item(i)).remove("now")}P(ppp.item(img_current)).add("now")}};var img_go=function(dist,time){inn.style.webkitTransitionDuration=inn.style.MozTransitionDuration=inn.style.msTransitionDuration=inn.style.OTransitionDuration=inn.style.transitionDuration=time+"ms";inn.style.webkitTransform="translate("+dist+"px,0)translateZ(0)";inn.style.msTransform=inn.style.MozTransform=inn.style.OTransform="translateX("+dist+"px)"};var img_run=function(){img_current++;if(img_current==img_num){img_current=0}var bbcc=-ww*img_current;img_tab();img_go(bbcc,time2)};var img_scrollY,img_dist=0;var img_x=0,img_y=0;function img_start(){clearInterval(img_run_time);var p=event.touches[0];img_x=p.pageX;img_y=p.pageY;img_scrollY=undefined}function img_move(){if(event.touches.length>1){return false}var p=event.touches[0];img_dist=p.pageX-img_x;var yy=p.pageY-img_y;if(typeof img_scrollY=="undefined"){img_scrollY=!!(img_scrollY||Math.abs(img_dist)<Math.abs(yy))}if(!img_scrollY){event.preventDefault();if((img_current==0&&img_dist>0)||((img_current+1)>=img_num&&img_dist<0)){img_dist=img_dist*0.4}var cc=-ww*img_current+img_dist;img_go(cc,0)}}function img_end(){if(img_dist==0){img_run_time=setInterval(img_run,time);return false}event.preventDefault();if(!img_scrollY){if(Math.abs(img_dist)>ww/15){img_dist>0?img_current-=1:img_current+=1}if(img_current<0){img_current=0}if(img_current+1>=img_num){img_current=img_num-1}var more=-ww*img_current;img_go(more,time2)}img_dist=0;img_tab();clearInterval(img_run_time);img_run_time=setInterval(img_run,time+time2)}p.addEventListener("touchstart",img_start,false);p.addEventListener("touchmove",img_move,false);p.addEventListener("touchend",img_end,false);p.addEventListener("touchcancel",img_end,false);img_run_time=setInterval(img_run,time)}})();E[BL]=function(id,isConstant){var wrap=I(id);var isFull=false;var loading=function(){if(isFull){return}var h=wrap.offsetHeight,t=wrap.getBoundingClientRect().top,t2=h+t;var img=J("img",wrap),len=img.length;var nullNum=0;for(var i=len;i--;){var x=img.item(i),url=x.getAttribute("data-url"),isNull=url===null;if(isNull){nullNum++;continue}var rect=x.getBoundingClientRect(),tt=rect.top,ll=rect.left;if(tt>=t&&tt<t2){x.src=url;x.removeAttribute("data-url")}else{if(tt==0&&ll==0){}else{if(tt<t){break}}}}if(isConstant&&nullNum==len){isFull=true}};wrap.addEventListener("scroll",loading,false);loading();return{loading:loading}};E[BM]=(function(){var id=B+"jy_mttc";var id_a=B+"down",id_b=B+"down2",id_c=B+"down3";var style_check=function(x,xx){var p=xx.position;if(p!="relative"&&p!="absolute"&&p!="fixed"){x.style.position="relative"}};var setstyle=function(x,xx,f){var r=xx.borderTopLeftRadius+" "+xx.borderTopRightRadius+" "+xx.borderBottomRightRadius+" "+xx.borderBottomLeftRadius,w=x.offsetWidth,h=x.offsetHeight,l=xx.borderLeftWidth=="0px"?"0px":("-"+xx.borderLeftWidth),t=xx.borderTopWidth=="0px"?"0px":("-"+xx.borderTopWidth);r=f==0?r:f==1?"5px":"50%";return"width:"+w+"px;height:"+h+"px;left:"+l+";top:"+t+";border-radius:"+r+";"};var downModel=function(x,f){Tadd(x);var xx=K(x);up();style_check(x,xx);var div=L("div");div.id=id;div.setAttribute("style",setstyle(x,xx,f));x.appendChild(div)};var down=function(){downModel(this,0)};var down2=function(){downModel(this,1)};var down3=function(){downModel(this,2)};var up=function(){var dom=I(id);if(dom){dom.parentNode.removeChild(dom)}};var move=function(){up();Tdel(this)};var Tadd=function(x){x.addEventListener("touchmove",move,false);x.addEventListener("touchend",up,false);x.addEventListener("touchcancel",up,false)};var Tdel=function(x){x.removeEventListener("touchmove",move,false);x.removeEventListener("touchend",up,false);x.removeEventListener("touchcancel",up,false)};var Tbind=function(x,f){var func=f==id_a?down:f==id_b?down2:down3;x.addEventListener("touchstart",func,false)};V(function(){var cssId="jy_style",cssStr="#lcp_jy_mttc{background:url('"+ZZ.baseHref+"images/jy_black.png');overflow:hidden;position:absolute;top:0;left:0;margin:0;padding:0;text-indent:0;font-size:0;line-height:0;z-index:1000;}";R(cssId,cssStr);var y=L("img");y.onload=function(){this.parentNode.removeChild(this)};y.onerror=function(){this.parentNode.removeChild(this)};y.style.position="absolute";y.style.left="-1000px";y.style.top="-1000px";y.src=ZZ.baseHref+"images/jy_black.png";D.body.appendChild(y)});var Tfind=function(f,arr){var llll=arr.length;if(llll>0){for(var i=llll;i--;){if(arr[i].islcpdownCreate==1){continue}arr[i].islcpdownCreate=1;Tbind(arr[i],f)}}};return function(X_dom){var PBody=X_dom?X_dom:D.body;var lcp_down=Q(id_a,PBody),lcp_down2=Q(id_b,PBody),lcp_down3=Q(id_c,PBody);Tfind(id_a,lcp_down);Tfind(id_b,lcp_down2);Tfind(id_c,lcp_down3)}})();if(A.isDownCreate===true){V(E[BM])}E[BN]=(function(){return function(opts){var option={id:"",index:0,startFunc:function(){return true},endFunc:function(li,index){},createAndRun:false};option=N(option,opts);if(!I(option.id)){if("console" in E){E.console.error("X_run","please set a correct id")}return false}var wrap=I(option.id),outter=J("div",wrap)[0],inner=J("ul",outter)[0],line=J("b",wrap)[0];var X_run_w=ZZ.w;var X_run_nums=[],X_run_current=0,X_run_index=option.index,X_iw=0,X_cc,X_run_num;var X_run_fun=function(){var index=X_run_index,domW=outter.offsetWidth,li=J("li",inner),len=li.length,num=0;X_run_nums=[];for(var i=0;i<len;i++){num+=li.item(i).offsetWidth;X_run_nums.push(num)}if(num<domW){var leaveW=Math.floor((domW-num)/len),leaveW_last=domW-num-leaveW*(len-1),leaveWidth,leaveLi;X_run_nums=[];num=0;for(i=0;i<len;i++){leaveLi=li.item(i);leaveWidth=i==(len-1)?(leaveLi.offsetWidth+leaveW_last):(leaveLi.offsetWidth+leaveW);leaveLi.style.width=leaveWidth+"px";num+=leaveWidth;X_run_nums.push(num)}}num=num>=domW?(num-domW):0;var maxN=X_run_nums.length,cc=X_run_current;if(index==0){cc=0}else{if(index==maxN-1){if(X_run_nums[index]<X_run_w){cc=0}else{cc=-num}}else{li=J("li",inner);var pre=li.item(index-1).getBoundingClientRect().left,next=li.item(index+1).getBoundingClientRect().right;if(pre<X_iw){cc=X_run_current+X_iw-pre}else{if(next>X_run_w-X_iw){cc=X_run_current+X_run_w-next-X_iw}}}}X_run_current=cc;X_run_animate(cc,200);X_run_check(index);X_run_num=num};var X_run_scrollY,X_run_dist=0,X_run_x=0,X_run_y=0;function X_run_start(){var tou=event.touches[0];X_run_x=tou.pageX;X_run_y=tou.pageY;X_run_scrollY=undefined}function X_run_move(){if(event.touches.length>1||X_run_nums[X_run_nums.length-1]<X_run_w){return}var tou=event.touches[0];X_run_dist=tou.pageX-X_run_x;var yy=tou.pageY-X_run_y;if(typeof X_run_scrollY=="undefined"){X_run_scrollY=!!(X_run_scrollY||Math.abs(X_run_dist)<Math.abs(yy))}if(!X_run_scrollY){event.preventDefault();var sss=X_run_current+X_run_dist;X_cc=sss>0?sss*0.4:sss<-X_run_num?((sss+X_run_num)*0.4-X_run_num):sss;X_run_animate(X_cc,0)}}function X_run_animate(bbcc,time){inner.style.webkitTransitionDuration=inner.style.MozTransitionDuration=inner.style.msTransitionDuration=inner.style.OTransitionDuration=inner.style.transitionDuration=time+"ms";inner.style.webkitTransform="translate("+bbcc+"px,0)translateZ(0)";inner.style.msTransform=inner.style.MozTransform=inner.style.OTransform="translateX("+bbcc+"px)"}function X_run_end(){if(X_run_dist==0){return}event.preventDefault();if(!X_run_scrollY){var sss=X_run_current+X_run_dist;X_cc=sss>0?0:sss<-X_run_num?-X_run_num:sss;if(X_cc==0||X_cc==-X_run_num){X_run_animate(X_cc,200)}X_run_current=X_cc}X_run_dist=0}outter.addEventListener("touchstart",X_run_start,false);outter.addEventListener("touchmove",X_run_move,false);outter.addEventListener("touchend",X_run_end,false);outter.addEventListener("touchcancel",X_run_end,false);function X_run_check(index){var li=J("li",inner),len=li.length,now=li.item(index);for(var i=len;i--;){P(li.item(i)).remove("selected")}P(now).add("selected");var w=now.offsetWidth-4,l=index==0?2:(X_run_nums[index-1]+2);line.style.width=w+"px";line.style.left=l+"px"}function X_run(x,index){if(!option.startFunc(x,index)){return}var maxN=X_run_nums.length;var l=x.getBoundingClientRect().left,r=l+x.offsetWidth,cc=X_run_current;if(index==0){cc=0}else{if(index==maxN-1){if(X_run_nums[index]<X_run_w){cc=0}else{cc=-X_run_num}}else{var li=J("li",inner),pre=li.item(index-1).getBoundingClientRect().left,next=li.item(index+1).getBoundingClientRect().right;if(pre<X_iw){cc=X_run_current+X_iw-pre}else{if(next>X_run_w-X_iw){cc=X_run_current+X_run_w-next-X_iw}}}}X_run_current=cc;X_run_animate(cc,200);X_run_index=index;X_run_check(index);option.endFunc(x,index)}X_run_fun();var Xli=J("li",inner);for(var i=Xli.length;i--;){var Yli=Xli[i];Yli.setAttribute("data-xindex",i);Yli.addEventListener("click",function(){X_run(this,parseInt(this.getAttribute("data-xindex")))},false)}if(option.createAndRun){var createAndRunDom=Xli[option.index];X_run(createAndRunDom,parseInt(createAndRunDom.getAttribute("data-xindex")))}return{refresh:X_run_fun}}})();E[BO]=(function(){return function(option){var id=option.id,id2=option.id2,action=option.action,getNew=option.getNew,funcArg=option.funcArg?option.funcArg:function(){},func=option.func,nullDataFunc=option.nullDataFunc?option.nullDataFunc:function(){},endFunc=option.endFunc?option.endFunc:function(){},errorFunc=option.errorFunc,pageNum=option.pageNum?option.pageNum:10;var style_check=function(x,xx){var position=xx.position;if(position!="relative"&&position!="absolute"&&position!="fixed"){x.style.position="relative"}};var wrap=I(id),p=wrap.parentNode,style=K(p);var loading_div,ok_div;style_check(p,style);var cStyle=function(){var cssId="listLoadingMore";if(I(cssId)){return}var cssStr=".listLoadingMore{ display:none; width:100%; text-align:center; position:absolute; left:0;}.listLoadingMore>p{ height:20px; line-height:20px;}";R(cssId,cssStr)};var createDiv=function(){cStyle();var ss=K(wrap),zIndex=ss.zIndex=="auto"?"1":(parseInt(ss.zIndex)+1);loading_div=L("div");ok_div=L("div");loading_div.className=ok_div.className="listLoadingMore";loading_div.style.zIndex=ok_div.style.zIndex=zIndex;loading_div.style.bottom=ok_div.style.bottom="1px";loading_div.innerHTML="<img src='"+ZZ.baseHref+"images/loading.gif' onerror='this.parentNode.removeChild(this)' /><p>正在为您加载更多</p>";ok_div.innerHTML="<p>加载完毕</p>";p.appendChild(loading_div);p.appendChild(ok_div)};var isRunning=false,isFull=false,isStop=false;var setIsRunning=function(x){isRunning=x};var setIsFull=function(x){isFull=x};var setIsStop=function(x){isStop=x};getNew=getNew?getNew:function(){var idX=id2(),p=I(idX),length=p?J("li",p).length:0;if(idX==""){setIsRunning(false);showHide(false,false);return false}if(length%pageNum!=0){setIsRunning(false);setIsFull(true);loading(true);return false}var page=parseInt(length/pageNum)+1;var href=action(),isHas=href.search("\\?");if(isHas==-1){href+="?"}else{if(href.length>(isHas+1)){href+="&"}}var ajaxObject={type:"post",url:href+"page="+page+"&length="+length,contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:false,dataType:"json",success:function(data){setIsRunning(false);if(data&&data.length>0){for(var i=0;i<data.length;i++){var li=func(data[i]);p.appendChild(li)}E[BM](p);if(data.length<pageNum){setIsFull(true)}}else{if(length==0){isStop=true;nullDataFunc()}setIsFull(true)}loading(true)},complete:function(){setIsRunning(false);endFunc()},error:function(XMLHttpRequest,textStatus,errorThrown){setIsRunning(false);errorFunc(XMLHttpRequest,textStatus,errorThrown)}};if("jQuery" in E){$.ajax(ajaxObject)}else{ajax(ajaxObject)}};var showHide=function(f1,f2){loading_div.style.display=f1?"block":"none";ok_div.style.display=f2?"block":"none"};var loading=function(flag){if(isStop){return false}var x=wrap,x_sh=x.scrollHeight-x.clientHeight;var scroller=x.scrollTop;if(scroller>x_sh-50&&x_sh>0){if(isRunning){showHide(true,false);return false}if(isFull){showHide(false,true);return false}showHide(true);if(flag!==true){isRunning=true;getNew(funcArg())}}else{showHide(false,false)}};createDiv();wrap.addEventListener("scroll",loading,false);return{isFull:setIsFull,isRunning:setIsRunning,isStop:setIsStop,loading:loading,show:showHide,getNew:getNew}}})();var lcp_alert_flag=false,lcp_alert_time;E[BP]=function(title,content,flag,fun,fun2){if(lcp_alert_flag){clearTimeout(lcp_alert_time);E[BQ](true);E[BP].apply(E,arguments);return false}lcp_alert_flag=true;var w=ZZ.w,h=ZZ.h;var a=BQ+"()",b=a+";";if(fun){fun=b+fun}if(fun2){fun2=b+fun2}var mttc=L("div"),mttc_func=flag==2?fun:flag==3?fun2:a;mttc.className="lcp_mttc";mttc.id="lcp_mttc";mttc.setAttribute("onclick",mttc_func);D.body.appendChild(mttc);var alert_dom=L("div");alert_dom.className=BP;alert_dom.id=BP;alert_dom.setAttribute("style","transform:scale(0,0);-webkit-transform:scale(0,0);");var titHTML=title===false?"":"<div class='lcp_alert_title'>"+title+"</div>";if(flag==0){alert_dom.innerHTML="<i class='lcp_down' onclick='"+mttc_func+"'>&times;</i>"+titHTML+"<div class='lcp_alert_con'>"+content+"</div><div class='alert_button_div'><div class='lcp_down' onclick='lcp_ok()'>确 定</div></div>"}else{if(flag==1){alert_dom.innerHTML="<i class='lcp_down' onclick='"+mttc_func+"'>&times;</i>"+titHTML+"<div class='lcp_alert_con'>"+content+"</div><div class='alert_button_div alert_button_div2'><div class='lcp_down' onclick='"+fun+"'>确 定</div><div class='lcp_down' onclick='lcp_ok()'>取 消</div></div>"}else{if(flag==2){alert_dom.innerHTML="<i class='lcp_down' onclick='"+mttc_func+"'>&times;</i>"+titHTML+"<div class='lcp_alert_con'>"+content+"</div><div class='alert_button_div'><div class='lcp_down' onclick='"+fun+"'>确 定</div></div>"}else{if(flag==3){alert_dom.innerHTML="<i class='lcp_down' onclick='"+mttc_func+"'>&times;</i>"+titHTML+"<div class='lcp_alert_con'>"+content+"</div><div class='alert_button_div alert_button_div2'><div class='lcp_down' onclick='"+fun+"'>确 定</div><div class='lcp_down' onclick='"+fun2+"'>取 消</div></div>"}else{if(flag==4){alert_dom.innerHTML="<i class='lcp_down' onclick='"+mttc_func+"'>&times;</i>"+titHTML+"<div class='lcp_alert_con'>"+content+"</div>"}}}}}D.body.appendChild(alert_dom);E[BM](alert_dom);alert_dom.style.top=(h/2-alert_dom.offsetHeight/2)+"px";alert_dom.style.left=(w/2-alert_dom.offsetWidth/2)+"px";alert_dom.style.transform=alert_dom.style.webkitTransform="scale(1,1)"};E[BQ]=function(flag){var a=I("lcp_mttc"),b=I(BP);var c=function(){lcp_alert_flag=false;if(a){D.body.removeChild(b)}if(b){D.body.removeChild(a)}};if(a){a.style.background="transparent"}if(b){b.getElementsByTagName("i").item(0).setAttribute("onclick","");var domDiv=b.getElementsByTagName("div");for(var i=domDiv.length;i--;){domDiv.item(i).setAttribute("onclick","")}b.style.transform=b.style.webkitTransform="scale(0,0)";if(flag){c()}else{lcp_alert_time=setTimeout(c,600)}}};E[BR]="";E[BS]=(function(){return function(href){if(!H){E.location.href=href}else{if("lcp_goto" in F){F.lcp_goto(true,href)}}}})();var PM=+new Date();var PF=function(){var win3=parent.window,p=win3.document.getElementById("inner-mttc"),s=win3.document.getElementById("inner-inner");if(p){if(s){p.removeChild(s)}p.parentNode.removeChild(p)}};var PY=function(){if(BW in E){EE[BW]=function(){E[BW].apply(E,arguments)}}if(BX in E){EE[BX]=function(){E[BX].apply(E,arguments)}}if(CD in E){EE[CD]=function(){E[CD].apply(E,arguments)}}EE[BY]=function(){E[BY].apply(E,arguments)};EE[BZ]=function(){return E[BZ].apply(E,arguments)};EE[CA]=function(){E[CA].apply(E,arguments)};EE[CB]=function(){return E[CB].apply(E,arguments)};EE[CC]=function(){E[CC].apply(E,arguments)}};if(H){if("updateHistoryLength" in F){F.updateHistoryLength()}}V(function(){F[BV]=true;var time=(+new Date())-PM;if(time<100){setTimeout(PF,100-time)}else{PF()}if(H){PY()}});E[BU]=function(html){html=html?html:"file:///android_asset/demo.html";if(BB in F){F[BB].gotoUrl(html)}};return ZZ})();
//读取基础路径:型如-http://192.168.1.XXX:8080/XXX/XXX/skin/
var myBaseHref = baseTools.baseHref;

//页面body部分加载完毕时执行
function base_onload(){
    base_resize();          //执行通用高度设置
    window.onresize = function(){
        base_resize();
    };
    lcp_downCreate();       //调用ios版按触效果插件

    my_onload();    //执行预留加载函数
}
baseTools.domLoad(base_onload);
function getThisHeight(){
    var h = document.documentElement.clientHeight,prevH = baseTools.getLoc("singlePagePrevH"),nowH = baseTools.getLoc("singlePageNowH");
    if(prevH === null){
        baseTools.setLoc("singlePagePrevH",h);
        baseTools.setLoc("singlePageNowH",h);
        return h;
    }
    else{
        if(Math.abs(parseInt(prevH)-h)<=100){
            baseTools.setLoc("singlePageNowH",h);
            return h;
        }
        else{
            return nowH;
        }
    }
}
function base_resize(){
    var body = document.body,rem = baseTools.rem();
    baseTools.w = document.documentElement.clientWidth;
    baseTools.h = baseTools.isTwoWindow?baseTools.getH():getThisHeight();
    body.style.height = baseTools.h+"px";
    var inner = baseTools.getClass("inner");
    for(var i=inner.length;i--;) inner[i].style.height = inner[i].offsetHeight+"px";
    styleLoad();    //重写lcp_style
}
var styleLoadObject = {     //请填写需要的预加载样式json吧

};
var styleLoad=(function(){      //填充预加载样式
    var a = function(){
        var j = baseTools.getId("myScript");
        if(j){
            var i=j.getAttribute("data-id"),g=i in styleLoadObject?styleLoadObject[i]():"",h="base_preload" in window?base_preload():"";
            baseTools.createStyle("base_style",g+h);
        }
    };
    a();
    return a;
})();
function base_preload(){    //基本样式加载
    return "";
}
function my_onload(){

}
/* 通用序列 */
function setMessage(name,value){try{window["MyJS"]["setinfo"](name,value);}catch(e){window.localStorage.setItem(name,value);}}
function getMessage(name){var val;try{val = window["MyJS"]["getinfo"](name);}catch(e){val = window.localStorage.getItem(name);}val = val===null?"":val;return val;}
function setToken(str){window.localStorage.setItem("mytoken",str);}
function getToken(){return window.localStorage.getItem("mytoken");}
function updateMessage(){try{ getMessageNow();} catch(e){}}
function setMessageNow(C){}
function lcp_tel(num){
    var ua = window.navigator.userAgent.toLowerCase();
    var a = ua.match(/(Android)/i),b = ua.match(/MicroMessenger/i)=='micromessenger';
    if(b) baseTools.win2.location.href = "tel:"+num;
    else if(a) window["BaseJS"]["jsPhoneCall"](num);
    else baseTools.win2.location.href = "ios/BaseJS/jsPhoneCall:"+num;
}
function lcp_share(content){
    var ua = window.navigator.userAgent.toLowerCase();
    var a = ua.match(/(Android)/i);
    if(a) window["BaseJS"]["ShareLink"](content);
    else baseTools.win2.location.href = "ios/MyJS/sharelink:"+content;
}
function isWx(){
    var ua = window.navigator.userAgent.toLowerCase();
    return ua.match(/MicroMessenger/i)=='micromessenger';
}